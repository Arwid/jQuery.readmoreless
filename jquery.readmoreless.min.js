/*
 * jQuery.readmoreless - Minimize long paragraphs and make expandable with 
 * "more" and "less" links. Either collapse to a length or a selector.
 *
 * Inspired by jquery.readmore 1.1 by Jake Trent  http://www.jtsnake.com/
 *
 * Copyright 2011 Arwid Bancewicz
 * Licensed under the MIT license
 * http://www.opensource.org/licenses/mit-license.php
 * 
 * @date 23 Feb 2011
 * @author Arwid Bancewicz http://arwid.ca
 * @version 0.1
 */
(function(a){a.fn.readmoreless=function(e){var f=a.extend({},a.fn.readmoreless.defaults,e);this.each(function(){a(this).data("opts",f);if(f.substr){if(a(this).html().length>f.substr_len){d(a(this));c(a(this))}}else{a(this).append(f.more_link).append(f.less_link);a(this).children(":not("+f.less_selector+"):not(.more)").hide();a(this).children(".more").click(function(){a(this).hide().siblings(":not("+f.less_selector+"):not(.more):not(.less)").animate({opacity:"toggle"},1000).siblings(".less").show()});a(this).children(".less").click(function(){a(this).hide().siblings(":not(:first)").hide().siblings(".more").show()})}});function c(g){g.append('<div class="clear"></div>');g.append(f.more_link).append(f.less_link);g.children(".less").hide();b(g)}function b(g){g.children(".more").click(function(){a(this).hide().siblings(".ellipses").hide().siblings(":not(.first):not(.more):not(.less)").animate({opacity:"toggle"},1000).siblings(".less").show()});g.children(".less").click(function(){a(this).hide().siblings(":not(:first)").hide().siblings(".ellipses,.clear").show().siblings(".more").show()})}function d(k){var j=k.data("opts");var h=k.html();var g=j.substr_len;var m="<span class='ellipses'>"+j.ellipses+"</span>";var i=h.substring(0,g)+m;var l='<span class="hidden" style="display:none;">'+h.substring(g,h.length)+"</span>";k.html(i+l)}return this};a.fn.readmoreless.defaults={substr:true,substr_len:500,less_selector:":first",ellipses:"&#8230;",more_link:'<a class="more">Read&nbsp;More</a>',less_link:'<a class="less">Read&nbsp;Less</a>'}})(jQuery);